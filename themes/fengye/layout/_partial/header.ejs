<!-- The navigation bar -->
<header class="
flex flex-row items-center
    w-full
    px-5
    py-1
    z-10
    border-b
    border-black/5
    dark:bg-[var(--c-0)]
    dark:border-b-[var(--c-0)]
    gap-2
    h-[var(--h-header)]
    text-[var(--c-80)]">
    <!-- Left part -->
    <div class="max-auto">
        <!-- Site Title on the top left -->
      <nav class="flex items-center text-base">
        <a href="<%- config.root %>" class="group
            hover:text-[#42b883]">
           <h2 class="font-medium tracking-tighterp text-l p-2">
             <img class="w-5 mr-2 inline-block transition-transform group-hover:rotate-[30deg]" id="logo" src="/img/logo.svg"
                alt="记忆秘阁">
            记忆秘阁</h2>
        </a>
    </div>
    <!-- Div for pushing items to both sides -->
    <div class="flex-1"></div>
    <!-- Right part -->
    <div class="flex flex-row items-center z-20 h-full">
        <!-- Page links -->
        <div class="hidden sm:flex flex-row h-full">
            <% for (var i in theme.nav) { %>
                <% var pageLink = theme.nav[i]; %>
                <% if (typeof pageLink === 'object') { %>
                    <% var path = theme.nav[i].path; %>
                    <% var icon = theme.nav[i].icon; %>
                <% } else { %>
                    <% var path = theme.nav[i]; %>
                    <% var icon = null; %>
                <% } %>
                <a
                    href="<%= url_for(path) %>"
                    class="
                        flex flex-row items-center
                        gap-1
                        hover:underline
                        hover:bg-[var(--c-20)]
                        hover:text-[#42b883]
                        transition-all
                        px-2
                        py-1
                        my-1
                        rounded-lg
                        group
                    ">
                    <% if (icon) { %>
                        <iconify-icon class="group-hover:scale-108 transition-transform" icon="<%- icon %>" width="20">
                        </iconify-icon>
                    <% } %>
                    <% if (theme.nav[i].show_text) { %>
                        <p><%= i %></p>
                    <% } %>
                </a>
            <% } %>
        </div>
        <!-- Icons on the right -->
        <div class="flex flex-row items-center">

            <%- partial('_partial/search') %>

            <!-- Dark/light toggle icon -->
            <a class="flex group p-1" title="toggle theme" id="toggle-dark">
                <iconify-icon class="transition-transform
                    group-hover:rotate-[45deg]
                    group-hover:scale-108
                    group-hover:text-[#42b883]
                    " width="20" icon="" id="theme-icon">
                </iconify-icon>
            </a>
            <!-- Icon for dropout menu on small screens -->
            <div class="flex items-center justify-center gap-1 mx-1 sm:hidden">
                <a class="w-5 h-5" aria-hidden="true" role="img" id="open-menu">
                    <iconify-icon width="20" icon="mingcute:menu-fill"
                        class="transition-transform hover:scale-108 hover:rotate-[5deg]">
                    </iconify-icon>
                </a>
                <a class="w-5 h-5 hidden" aria-hidden="true" role="img" id="close-menu">
                    <iconify-icon width="20" icon="mingcute:close-circle-fill"
                        class="transition-transform hover:scale-108 hover:rotate-[80deg]">
                    </iconify-icon>
                </a>
            </div>
        </div>
       </nav>
    </div>
</header>

<!-- Dropdown menu on small screens -->
<div id="menu-panel" class="h-0 overflow-hidden sm:hidden fixed left-0 right-0 top-12 bottom-0 z-10">
  <div id="menu-content" class="relative z-20 bg-white/80 px-6 sm:px-8 py-2 backdrop-blur-xl -translate-y-full transition-transform duration-300">
    <ul class="nav flex flex-col sm:flex-row text-sm font-medium">
      <% for (var i in theme.nav){ %>
        <li class="nav-portfolio sm:mx-2 border-b sm:border-0 border-black/5 last:border-0 hover:text-main">
          <a href="<%- url_for(theme.nav[i]) %>" class="flex h-12 sm:h-auto items-center"><%= i %></a>
        </li>
      <% } %>
    </ul>
  </div>
  <div class="mask bg-black/20 absolute inset-0"></div>
</div>
